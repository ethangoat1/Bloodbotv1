module.exports.config = {
  name: "Ø§Ù„Ø¬Ø­ÙŠÙ…",
  version: "1.0.0",
  hasPermssion: 2,
  credits: "Ø§Ù„ÙˆÙƒÙŠÙ„",
  description: "ÙŠØ±Ø³Ù„ Ø±Ø³Ø§Ù„Ø© ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©",
  commandCategory: "Ù†Ø¸Ø§Ù…",
  usages: "[ØªØ´ØºÙŠÙ„/Ø§ÙŠÙ‚Ø§Ù] [Ø§Ù„Ø±Ø³Ø§Ù„Ø©]",
  cooldowns: 5
};

let intervals = {};

module.exports.run = async function({ api, event, args }) {
  const { threadID, messageID } = event;
  const action = args[0];
  const message = args.slice(1).join(" ");

  if (action === "ØªØ´ØºÙŠÙ„") {
    const defaultMessage = `â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸ“°â‡’â”Šğ™â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™†â”Š
â‡’â”Š ğ™† â”Šğ’‹¨ğŸŒ«â‡’â”Šğ™â”Šğ’‹¨ğŸ“°â‡’â”Šğ™†â”Š
ã€˜ğŸ“°â”ŠğŸŒ«ã€™

â‡£

ã€ âŒ« ã€ ..âƒ—.â”Šâ‡¢ã€ğ–«ğ–®ğ– ğ–£ğ–¨ğ–­ğ–¦...ã€

 - ğ™ğ™‡ğ™ğ™ğ˜¼ Â¦ ğ˜¿ğ™€ğ™‘ğ™„ğ™‡  ğ–£˜


ğ–£” |  á­„ ğ™‡ğ™Šğ™ğ˜¿ ğ™ğ˜¼ğ™„ ğŸ©¶ğŸª½ Ê¿ ğ”–±Ûªğ”–±.`;
    const finalMessage = message || defaultMessage;

    api.sendMessage("ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¬Ø­ÙŠÙ…! Ø³Ø£Ù‚ÙˆÙ… Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©.", threadID);
    
    intervals[threadID] = setInterval(() => {
      api.sendMessage(finalMessage, threadID);
    }, 30000);
  } 
  else if (action === "Ø§ÙŠÙ‚Ø§Ù") {
    if (!intervals[threadID]) return api.sendMessage("Ø§Ù„Ø£Ù…Ø± ØºÙŠØ± Ù…ÙØ¹Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹.", threadID, messageID);
    
    clearInterval(intervals[threadID]);
    delete intervals[threadID];
    api.sendMessage("ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¬Ø­ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­.", threadID, messageID);
  } 
  else {
    api.sendMessage("Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: Ø§Ù„Ø¬Ø­ÙŠÙ… [ØªØ´ØºÙŠÙ„/Ø§ÙŠÙ‚Ø§Ù] [Ø§Ù„Ø±Ø³Ø§Ù„Ø©]", threadID, messageID);
  }
};
